<!DOCTYPE html>
<html>
  <head>
    <title>{{ assignment.title }}</title>
  </head>
  <body>
    <h1>{{ assignment.title }}</h1>
    <p>
      <strong>Course:</strong> {{ assignment.course.name }} ({{ assignment.course.code }})
    </p>
    <p>
      <strong>Description:</strong> {{ assignment.description|linebreaks }}
    </p>
    <p>
      <strong>Due Date:</strong> {{ assignment.due_date|default:'No due date' }}
    </p>
    <p>
      <strong>Created:</strong> {{ assignment.created_at }}
    </p>
    <p>
      <strong>Teacher:</strong> {{ assignment.teacher.username }}
    </p>
    {% if user.is_authenticated and user.role == 'student' and enrolled %}
      <p>
        <a href="{% url 'assignments:submit_assignment' assignment.pk %}">Submission</a>
      </p>
    {% endif %}

    {% if user.is_authenticated and user.role == 'admin' or user == assignment.course.teacher %}
      <p>
        <a href="{% url 'assignments:assignment_submissions' assignment.pk %}">View Submissions</a>
      </p>
      <p>
        <a href="{% url 'assignments:assignment_edit' assignment.pk %}">Edit</a> |
        <a href="{% url 'assignments:assignment_delete' assignment.pk %}">Delete</a>
      </p>
    {% endif %}
    <hr />
    <p>
      <a href="{% url 'assignments:course_assignments' assignment.course.pk %}">Back to assignments</a>
    </p>
  </body>
</html>
